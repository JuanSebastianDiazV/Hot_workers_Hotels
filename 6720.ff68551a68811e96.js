"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6720],{4339:(y,I,a)=>{a.r(I),a.d(I,{ValidateYourIdentityPageModule:()=>F});var h=a(177),p=a(4341),l=a(4742),m=a(8026),d=a(467),u=a(7691),t=a(6276),c=a(2195),g=a(8657),s=a(7581);function f(e,i){if(1&e&&t.nrm(0,"img",9),2&e){const r=t.XpG();t.Y8G("src",r.frontIdPhoto.url,t.B4B)}}function b(e,i){if(1&e){const r=t.RV6();t.j41(0,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.selectPhotoSource("frontId"))}),t.EFF(1,"+"),t.k0s()}}function v(e,i){if(1&e){const r=t.RV6();t.j41(0,"div",11)(1,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.removePhoto("frontId"))}),t.EFF(2,"Eliminar"),t.k0s()()}}function k(e,i){if(1&e&&t.nrm(0,"img",9),2&e){const r=t.XpG();t.Y8G("src",r.backIdPhoto.url,t.B4B)}}function C(e,i){if(1&e){const r=t.RV6();t.j41(0,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.selectPhotoSource("backId"))}),t.EFF(1,"+"),t.k0s()}}function V(e,i){if(1&e){const r=t.RV6();t.j41(0,"div",11)(1,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.removePhoto("backId"))}),t.EFF(2,"Eliminar"),t.k0s()()}}function Y(e,i){if(1&e&&t.nrm(0,"img",9),2&e){const r=t.XpG();t.Y8G("src",r.selfiePhoto.url,t.B4B)}}function E(e,i){if(1&e){const r=t.RV6();t.j41(0,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.selectPhotoSource("selfie"))}),t.EFF(1,"+"),t.k0s()}}function x(e,i){if(1&e){const r=t.RV6();t.j41(0,"div",11)(1,"ion-button",10),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.removePhoto("selfie"))}),t.EFF(2,"Eliminar"),t.k0s()()}}const j=[{path:"",component:(()=>{var e;class i{constructor(n,o,_){this.cameraService=n,this.actionSheetController=o,this.alertService=_,this.frontIdPhoto={url:null},this.backIdPhoto={url:null},this.selfiePhoto={url:null}}selectPhotoSource(n){var o=this;return(0,d.A)(function*(){yield(yield o.actionSheetController.create({header:"Selecciona una fuente",cssClass:"red-action-sheet",buttons:[{text:"C\xe1mara",icon:"camera",handler:()=>{o.addPhoto(n,u.ru.Camera)}},{text:"Galer\xeda",icon:"image",handler:()=>{o.addPhoto(n,u.ru.Photos)}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}addPhoto(n,o){var _=this;return(0,d.A)(function*(){try{const P=yield u.i7.getPhoto({quality:90,allowEditing:!1,resultType:u.LK.DataUrl,source:o});if(P.dataUrl)switch(n){case"frontId":_.frontIdPhoto.url=P.dataUrl;break;case"backId":_.backIdPhoto.url=P.dataUrl;break;case"selfie":_.selfiePhoto.url=P.dataUrl}else console.error("Error: dataUrl no disponible")}catch(P){console.error("Error al tomar la foto",P)}})()}removePhoto(n){switch(n){case"frontId":this.frontIdPhoto.url=null;break;case"backId":this.backIdPhoto.url=null;break;case"selfie":this.selfiePhoto.url=null}}saveMedia(){this.alertService.presentErrorAlert("Error","Hubo un problema con el guardado de fotos."),this.cameraService.saveMedia({photos:[{type:"frontIdPhoto",url:this.frontIdPhoto.url},{type:"backIdPhoto",url:this.backIdPhoto.url},{type:"selfiePhoto",url:this.selfiePhoto.url}],videos:[]}).subscribe(o=>{console.log("Media guardada",o)})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.rXU(c.j),t.rXU(l.GD),t.rXU(g.u))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-validate-your-identity"]],decls:32,vars:10,consts:[[1,"background-general-interior",3,"fullscreen"],["size","12"],["routerLink","/photos-videos",1,"custom-back-container"],["src","assets/images/left-chevron.png","alt","Back",1,"custom-back-icon"],[1,"ion-text-center","whiteLabel"],[3,"src",4,"ngIf"],[3,"click",4,"ngIf"],["class","delete-button-container",4,"ngIf"],["expand","block","shape","round","color","danger",3,"click"],[3,"src"],[3,"click"],[1,"delete-button-container"]],template:function(n,o){1&n&&(t.j41(0,"ion-content",0),t.nrm(1,"app-button-menu-toggle"),t.j41(2,"ion-grid")(3,"ion-row")(4,"ion-col",1)(5,"div",2),t.nrm(6,"img",3),t.k0s(),t.j41(7,"h1",4),t.EFF(8,"Valida Tu Identidad"),t.k0s()(),t.j41(9,"ion-col",1)(10,"h2",4),t.EFF(11,"Foto Frontal de tu C\xe9dula"),t.k0s(),t.j41(12,"ion-card"),t.DNE(13,f,1,1,"img",5),t.DNE(14,b,2,0,"ion-button",6),t.DNE(15,v,3,0,"div",7),t.k0s()(),t.j41(16,"ion-col",1)(17,"h2",4),t.EFF(18,"Foto Posterior de tu C\xe9dula"),t.k0s(),t.j41(19,"ion-card"),t.DNE(20,k,1,1,"img",5),t.DNE(21,C,2,0,"ion-button",6),t.DNE(22,V,3,0,"div",7),t.k0s()(),t.j41(23,"ion-col",1)(24,"h2",4),t.EFF(25,"Selfie con Tu C\xe9dula"),t.k0s(),t.j41(26,"ion-card"),t.DNE(27,Y,1,1,"img",5),t.DNE(28,E,2,0,"ion-button",6),t.DNE(29,x,3,0,"div",7),t.k0s()()(),t.j41(30,"ion-button",8),t.bIt("click",function(){return o.saveMedia()}),t.EFF(31,"Guardar"),t.k0s()()()),2&n&&(t.Y8G("fullscreen",!0),t.R7$(13),t.Y8G("ngIf",o.frontIdPhoto.url),t.R7$(1),t.Y8G("ngIf",!o.frontIdPhoto.url),t.R7$(1),t.Y8G("ngIf",o.frontIdPhoto.url),t.R7$(5),t.Y8G("ngIf",o.backIdPhoto.url),t.R7$(1),t.Y8G("ngIf",!o.backIdPhoto.url),t.R7$(1),t.Y8G("ngIf",o.backIdPhoto.url),t.R7$(5),t.Y8G("ngIf",o.selfiePhoto.url),t.R7$(1),t.Y8G("ngIf",!o.selfiePhoto.url),t.R7$(1),t.Y8G("ngIf",o.selfiePhoto.url))},dependencies:[h.bT,l.Jm,l.b_,l.hU,l.W9,l.lO,l.ln,l.N7,m.Wk,s.p],styles:["ion-header[_ngcontent-%COMP%]{background:#1a1a1a}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: #1a1a1a;color:#fff}ion-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;color:#fff}ion-grid[_ngcontent-%COMP%]{padding:15px}ion-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border-radius:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;height:200px;margin:10px 0}ion-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:5px;--background: #c8102e;--border-radius: 5px;--padding-start: 10px;--padding-end: 10px}ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;border-radius:10px}ion-card[_ngcontent-%COMP%]   .delete-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;margin-bottom:10px}ion-button.expand-full[_ngcontent-%COMP%]{margin-top:20px;--background: #c8102e;--border-radius: 10px;--padding-start: 15px;--padding-end: 15px;font-size:18px}"]}),i})()}];let M=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[m.iI.forChild(j),m.iI]}),i})();var G=a(5553);let F=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.MD,p.YN,l.bv,M,G.h]}),i})()},8657:(y,I,a)=>{a.d(I,{u:()=>m});var h=a(467),p=a(6276),l=a(4742);let m=(()=>{var d;class u{constructor(c){this.alertController=c}presentSuccessAlert(c,g,s){var f=this;return(0,h.A)(function*(){yield(yield f.alertController.create({header:c,message:g,cssClass:"successAlert",buttons:[{text:"Cerrar",cssClass:"btn-Cerrar",handler:()=>{s&&s()}}]})).present()})()}presentErrorAlert(c,g,s){var f=this;return(0,h.A)(function*(){yield(yield f.alertController.create({header:c,message:g,cssClass:"errorAlert",buttons:[{text:"Cerrar",cssClass:"btn-Cerrar",handler:()=>{s&&s()}}]})).present()})()}presentWarningAlert(c,g,s){var f=this;return(0,h.A)(function*(){yield(yield f.alertController.create({header:c,message:g,cssClass:"warningAlert",buttons:[{text:"Cerrar",cssClass:"btn-Cerrar",handler:()=>{s&&s()}}]})).present()})()}}return(d=u).\u0275fac=function(c){return new(c||d)(p.KVO(l.hG))},d.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),u})()}}]);