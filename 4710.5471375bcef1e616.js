"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4710],{4710:(z,_,s)=>{s.r(_),s.d(_,{PersonalInfoPageModule:()=>L});var P=s(177),i=s(4341),a=s(4742),c=s(8026),I=s(467),e=s(6276),v=s(337),E=s(4708),k=s(5177),h=s(7581);function x(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El nombre es requerido. "),e.k0s())}function N(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,x,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("name"))||null==o.errors?null:o.errors.required)}}function b(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," Los apellidos son requeridos. "),e.k0s())}function j(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,b,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("lastName"))||null==o.errors?null:o.errors.required)}}function G(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El usuario es requerido. "),e.k0s())}function D(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,G,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("user"))||null==o.errors?null:o.errors.required)}}function C(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El correo electr\xf3nico es requerido. "),e.k0s())}function y(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El correo electr\xf3nico no es v\xe1lido. "),e.k0s())}function T(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,C,2,0,"p",27),e.DNE(2,y,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o,r;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("email"))||null==o.errors?null:o.errors.required),e.R7$(1),e.Y8G("ngIf",null==(r=l.personalInfoForm.get("email"))||null==r.errors?null:r.errors.email)}}function R(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El n\xfamero de documento es requerido. "),e.k0s())}function $(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,R,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("documentNumber"))||null==o.errors?null:o.errors.required)}}function Y(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," La fecha de nacimiento es requerida. "),e.k0s())}function M(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,Y,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("birthDate"))||null==o.errors?null:o.errors.required)}}function S(n,t){1&n&&(e.j41(0,"p"),e.EFF(1," El n\xfamero de celular es requerido. "),e.k0s())}function X(n,t){if(1&n&&(e.j41(0,"ion-text",28),e.DNE(1,S,2,0,"p",27),e.k0s()),2&n){const l=e.XpG();let o;e.R7$(1),e.Y8G("ngIf",null==(o=l.personalInfoForm.get("phoneNumber"))||null==o.errors?null:o.errors.required)}}function q(n,t){1&n&&e.nrm(0,"ion-spinner",29)}function A(n,t){1&n&&(e.j41(0,"span"),e.EFF(1,"Guardar"),e.k0s())}const O=[{path:"",component:(()=>{var n;class t{constructor(o,r,p,f,m,u){this.formBuilder=o,this.router=r,this.progressService=p,this.alertController=f,this.formService=m,this.employeeService=u,this.isSaving=!1}ngOnInit(){this.personalInfoForm=this.formBuilder.group({name:["",i.k0.required],lastName:["",i.k0.required],gender:["",i.k0.required],documentType:["",i.k0.required],documentNumber:["",i.k0.required],birthDate:["",i.k0.required],phoneNumber:["",i.k0.required],user:["",i.k0.required],email:["",[i.k0.required,i.k0.email]]}),this.formService.setForm("personalInfo",this.personalInfoForm)}save(){var o=this;return(0,I.A)(function*(){if(o.personalInfoForm.valid){o.isSaving=!0;const p={...o.personalInfoForm.value};o.employeeService.saveEmployeeData(p).subscribe({next:(f=(0,I.A)(function*(m){o.isSaving=!1,o.progressService.updateProgress("personal-info");const u=yield o.alertController.create({header:"\xc9xito",message:"Informaci\xf3n Personal Actualizada Con \xc9xito",buttons:["Aceptar"]});yield u.present(),u.onDidDismiss().then(()=>{o.router.navigate(["/profile"])})}),function(u){return f.apply(this,arguments)}),error:function(){var f=(0,I.A)(function*(m){console.error("Error al guardar la informaci\xf3n personal:",m),o.isSaving=!1,yield(yield o.alertController.create({header:"Error",message:"Hubo un problema al guardar la informaci\xf3n personal. Int\xe9ntelo nuevamente.",buttons:["Aceptar"]})).present()});return function(u){return f.apply(this,arguments)}}()})}var f})()}}return(n=t).\u0275fac=function(o){return new(o||n)(e.rXU(i.ok),e.rXU(c.Ix),e.rXU(v.M),e.rXU(a.hG),e.rXU(E.u),e.rXU(k.O))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-personal-info"]],decls:68,vars:12,consts:[[1,"background-general-interior",3,"fullscreen"],[1,"form-container"],["routerLink","/profile",1,"custom-back-container"],["src","assets/images/left-chevron.png","alt","Back",1,"custom-back-icon"],[1,"ion-padding",3,"formGroup","ngSubmit"],[1,"whiteLabel","ion-text-center"],["position","floating"],["formControlName","name","type","text"],["color","danger",4,"ngIf"],["formControlName","lastName","type","text"],["formControlName","user","type","text"],["formControlName","email","type","email"],["formControlName","gender"],["value","masculino"],["value","femenino"],["value","indefinido"],["formControlName","documentType"],["value","cc"],["value","ce"],["value","passport"],["value","pep"],["formControlName","documentNumber","type","text"],["position","stacked"],["type","date","formControlName","birthDate"],["formControlName","phoneNumber","type","text"],["shape","round","color","danger","expand","block","type","submit",1,"ion-margin-top",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],["color","danger"],["name","crescent"]],template:function(o,r){if(1&o&&(e.j41(0,"ion-content",0),e.nrm(1,"app-button-menu-toggle"),e.j41(2,"div",1)(3,"div",2),e.nrm(4,"img",3),e.k0s(),e.j41(5,"form",4),e.bIt("ngSubmit",function(){return r.save()}),e.j41(6,"h1",5),e.EFF(7,"Informaci\xf3n personal"),e.k0s(),e.j41(8,"ion-item")(9,"ion-label",6),e.EFF(10,"Nombre"),e.k0s(),e.nrm(11,"ion-input",7),e.k0s(),e.DNE(12,N,2,1,"ion-text",8),e.j41(13,"ion-item")(14,"ion-label",6),e.EFF(15,"Apellidos"),e.k0s(),e.nrm(16,"ion-input",9),e.k0s(),e.DNE(17,j,2,1,"ion-text",8),e.j41(18,"ion-item")(19,"ion-label",6),e.EFF(20,"Usuario"),e.k0s(),e.nrm(21,"ion-input",10),e.k0s(),e.DNE(22,D,2,1,"ion-text",8),e.j41(23,"ion-item")(24,"ion-label",6),e.EFF(25,"Correo Electr\xf3nico"),e.k0s(),e.nrm(26,"ion-input",11),e.k0s(),e.DNE(27,T,3,2,"ion-text",8),e.j41(28,"ion-item")(29,"ion-label",6),e.EFF(30,"G\xe9nero"),e.k0s(),e.j41(31,"ion-select",12)(32,"ion-select-option",13),e.EFF(33,"Masculino"),e.k0s(),e.j41(34,"ion-select-option",14),e.EFF(35,"Femenino"),e.k0s(),e.j41(36,"ion-select-option",15),e.EFF(37,"Indefinido"),e.k0s()()(),e.j41(38,"ion-item")(39,"ion-label",6),e.EFF(40,"Tipo de Documento"),e.k0s(),e.j41(41,"ion-select",16)(42,"ion-select-option",17),e.EFF(43,"C\xe9dula de Ciudadan\xeda"),e.k0s(),e.j41(44,"ion-select-option",18),e.EFF(45,"C\xe9dula de Extranjer\xeda"),e.k0s(),e.j41(46,"ion-select-option",19),e.EFF(47,"Pasaporte"),e.k0s(),e.j41(48,"ion-select-option",20),e.EFF(49,"PEP"),e.k0s()()(),e.j41(50,"ion-item")(51,"ion-label",6),e.EFF(52,"N\xfamero de Documento"),e.k0s(),e.nrm(53,"ion-input",21),e.k0s(),e.DNE(54,$,2,1,"ion-text",8),e.j41(55,"ion-item")(56,"ion-label",22),e.EFF(57,"Fecha de Nacimiento"),e.k0s(),e.nrm(58,"ion-input",23),e.k0s(),e.DNE(59,M,2,1,"ion-text",8),e.j41(60,"ion-item")(61,"ion-label",6),e.EFF(62,"N\xfamero de Celular"),e.k0s(),e.nrm(63,"ion-input",24),e.k0s(),e.DNE(64,X,2,1,"ion-text",8),e.j41(65,"ion-button",25),e.DNE(66,q,1,0,"ion-spinner",26),e.DNE(67,A,2,0,"span",27),e.k0s()()()()),2&o){let p,f,m,u,g,d,F;e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("formGroup",r.personalInfoForm),e.R7$(7),e.Y8G("ngIf",(null==(p=r.personalInfoForm.get("name"))?null:p.touched)&&(null==(p=r.personalInfoForm.get("name"))?null:p.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(f=r.personalInfoForm.get("lastName"))?null:f.touched)&&(null==(f=r.personalInfoForm.get("lastName"))?null:f.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(m=r.personalInfoForm.get("user"))?null:m.touched)&&(null==(m=r.personalInfoForm.get("user"))?null:m.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(u=r.personalInfoForm.get("email"))?null:u.touched)&&(null==(u=r.personalInfoForm.get("email"))?null:u.invalid)),e.R7$(27),e.Y8G("ngIf",(null==(g=r.personalInfoForm.get("documentNumber"))?null:g.touched)&&(null==(g=r.personalInfoForm.get("documentNumber"))?null:g.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(d=r.personalInfoForm.get("birthDate"))?null:d.touched)&&(null==(d=r.personalInfoForm.get("birthDate"))?null:d.invalid)),e.R7$(5),e.Y8G("ngIf",(null==(F=r.personalInfoForm.get("phoneNumber"))?null:F.touched)&&(null==(F=r.personalInfoForm.get("phoneNumber"))?null:F.invalid)),e.R7$(1),e.Y8G("disabled",!r.personalInfoForm.valid||r.isSaving),e.R7$(1),e.Y8G("ngIf",r.isSaving),e.R7$(1),e.Y8G("ngIf",!r.isSaving)}},dependencies:[P.bT,i.qT,i.BC,i.cb,a.Jm,a.W9,a.$w,a.uz,a.he,a.Nm,a.Ip,a.w2,a.IO,a.Je,a.Gw,a.N7,c.Wk,h.p,i.j4,i.JD],styles:["ion-item[_ngcontent-%COMP%]{--background: transparent !important;--border-color: #fff;font-size:1.1rem}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{color:#f1a7a7}.form-container[_ngcontent-%COMP%]{margin-top:3rem}"]}),t})()}];let U=(()=>{var n;class t{}return(n=t).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(O),c.iI]}),t})();var B=s(5553);let L=(()=>{var n;class t{}return(n=t).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[P.MD,i.YN,a.bv,U,B.h,i.X1]}),t})()}}]);